@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body {
  text-rendering: optimizeLegibility;
  background-color: var(--bg-color);
  scroll-behavior: smooth;
  scroll-padding-top: 3rem;
}

html.light {
  --bg-color: theme('colors.zinc.50');
}
html.dark {
  --bg-color: theme('colors.primary.900');
}

[data-radix-popper-content-wrapper] {
  z-index: 99999 !important;
}

[data-floating-ui-portal] {
  z-index: 100000;
}

::selection {
  background-color: theme('colors.lime.500');
  color: theme('colors.lime.950');
}

@keyframes typing-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

@keyframes fadeOut {
  0% {
    opacity: 1;
    visibility: visible;
  }
  90% {
    opacity: 1;
    visibility: visible;
  }
  100% {
    opacity: 0;
    visibility: hidden;
  }
}

@keyframes gradientFlow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* 二次元风格问号图标 */
.anime-question-mark {
  position: relative;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: animeFloat 2s ease-in-out infinite;
}

/* 问号的主体部分 - 弯曲的上半部分 */
.anime-question-mark::before {
  content: '';
  position: absolute;
  width: 32px;
  height: 32px;
  border: 6px solid transparent;
  border-radius: 32px 32px 0 32px;
  border-top: 6px solid #ff69b4;
  border-right: 6px solid #ff1493;
  border-bottom: 6px solid #9370db;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, 
    rgba(255, 105, 180, 0.2) 0%,
    rgba(255, 20, 147, 0.2) 50%,
    rgba(147, 112, 219, 0.2) 100%);
  box-shadow: 
    0 0 20px rgba(255, 105, 180, 0.5),
    inset 0 0 10px rgba(255, 255, 255, 0.2);
  animation: gradientRotate 3s ease-in-out infinite, glowPulse 2s ease-in-out infinite;
}

/* 问号的下半部分 - 竖直线 */
.anime-question-mark::after {
  content: '';
  position: absolute;
  width: 6px;
  height: 16px;
  background: linear-gradient(180deg, #9370db, #4169e1);
  border-radius: 3px;
  top: 36px;
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 
    0 0 15px rgba(147, 112, 219, 0.6),
    inset 0 0 5px rgba(255, 255, 255, 0.3);
  animation: glowPulse 2s ease-in-out infinite;
}

/* 问号的点 */
.anime-question-mark .question-dot {
  position: absolute;
  width: 8px;
  height: 8px;
  background: linear-gradient(45deg, #4169e1, #00bfff);
  border-radius: 50%;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 
    0 0 15px rgba(65, 105, 225, 0.8),
    inset 0 0 5px rgba(255, 255, 255, 0.4);
  animation: dotPulse 1.5s ease-in-out infinite;
}

@keyframes animeFloat {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes gradientRotate {
  0%, 100% {
    border-top-color: #ff69b4;
    border-right-color: #ff1493;
    border-bottom-color: #9370db;
  }
  33% {
    border-top-color: #ff1493;
    border-right-color: #9370db;
    border-bottom-color: #4169e1;
  }
  66% {
    border-top-color: #9370db;
    border-right-color: #4169e1;
    border-bottom-color: #ff69b4;
  }
}

@keyframes glowPulse {
  0%, 100% {
    box-shadow: 
      0 0 20px rgba(255, 105, 180, 0.5),
      inset 0 0 10px rgba(255, 255, 255, 0.2);
  }
  50% {
    box-shadow: 
      0 0 30px rgba(255, 105, 180, 0.8),
      inset 0 0 15px rgba(255, 255, 255, 0.4);
  }
}

@keyframes dotPulse {
  0%, 100% {
    transform: translateX(-50%) scale(1);
    box-shadow: 
      0 0 15px rgba(65, 105, 225, 0.8),
      inset 0 0 5px rgba(255, 255, 255, 0.4);
  }
  50% {
    transform: translateX(-50%) scale(1.2);
    box-shadow: 
      0 0 25px rgba(65, 105, 225, 1),
      inset 0 0 8px rgba(255, 255, 255, 0.6);
  }
}

/* 暗色模式下的调整 */
html.dark .anime-question-mark::before {
  border-top-color: #ff69b4;
  border-right-color: #da70d6;
  border-bottom-color: #87ceeb;
  background: linear-gradient(135deg, 
    rgba(255, 105, 180, 0.3) 0%,
    rgba(218, 112, 214, 0.3) 50%,
    rgba(135, 206, 235, 0.3) 100%);
}

html.dark .anime-question-mark::after {
  background: linear-gradient(180deg, #da70d6, #87ceeb);
}

html.dark .anime-question-mark .question-dot {
  background: linear-gradient(45deg, #87ceeb, #00bfff);
}